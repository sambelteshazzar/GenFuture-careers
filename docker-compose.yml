version: "3.9"
services:
  backend:
    build:
      context: ./backend
    image: genfuture-backend:local
    container_name: genfuture_backend
    env_file:
      - .env
    ports:
      - "8000:8000"
    volumes:
      - ./backend:/app
    depends_on:
      - frontend

  frontend:
    build:
      context: ./frontend
    image: genfuture-frontend:local
    container_name: genfuture_frontend
    ports:
      - "5173:80" # maps nginx:80 -> host:5173 for convenience
    volumes:
      - ./frontend:/app

# Optional: add a db service if you migrate to postgres/mysql in the future
